<tui-accordion
    *ngIf="contestResults"
    class="container"
    [rounded]="false"
>
    <tui-accordion-item
        *ngFor="let solution of contestResults"
        borders="top-bottom"
        [showArrow]="false"
    >
        <div class="operation-header">
            <div class="operation-date">
                4
                <div class="operation-month">May</div>
            </div>
            <div class="operation-pic">
                <tui-svg
                    class="operation-icon"
                ></tui-svg>
            </div>
            <div class="operation-title">Get your money</div>
            <div class="operation-info">

                <div class="operation-status">Waiting for approve</div>
            </div>
        </div>
        <ng-template tuiAccordionItemContent>
            <tui-stepper [(activeItemIndex)]="activeItemIndex">
                <button
                    *ngFor="let taskFormArray of solution.contest.tasks; let i = index"
                    tuiStep
                >
                    {{ 'Задача ' + (i + 1) }}
                </button>
            </tui-stepper>
            <div class="tui-row tui-row_adaptive">
                <div class="tui-col_6">
                    <h2>{{ solution.contest.tasks[activeItemIndex].name }}</h2>
                    <tui-tabs class="tui-space_bottom-5" [(activeItemIndex)]="activeSubItemIndex">
                        <button tuiTab>Условие</button>
                        <button tuiTab>Output</button>
                    </tui-tabs>
                    <ng-container [ngSwitch]="activeSubItemIndex">
                        <tui-editor-socket
                            *ngSwitchCase="0"
                            class="editor-socket"
                            [content]="solution.contest.tasks[activeItemIndex].description"
                        ></tui-editor-socket>
                        <ng-container
                            *ngSwitchCase="1"
                        >
                            <challenge-space-solution-task-output
                                *ngFor="let testCase of solution.contest.tasks[activeItemIndex].testCases; let i = index"
                                [result]="testCase?.result?.result?.submissions[0]"
                                [isFullLoaded]="true"
                                [index]="i"
                            ></challenge-space-solution-task-output>
                        </ng-container>
                    </ng-container>
                </div>
                <div class="tui-col_6 right-container">
                    <span class="tui-space_bottom-2">

                    </span>
                    <ngx-monaco-editor
                        class="right-container__code-editor"
                        [options]="editorOptions"
                        [disabled]="true"
                        [(ngModel)]="solution.contest.tasks[activeItemIndex].testCases[0].result?.result?.submissions[0].source_code"
                    ></ngx-monaco-editor>
                </div>
            </div>
        </ng-template>
    </tui-accordion-item>
</tui-accordion>
